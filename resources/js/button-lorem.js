(function () {
    tinymce.PluginManager.add('srizon_lorem_button', function (editor, url) {

        editor.addButton('srizon_lorem_button', {
            text: 'Lorem',
            icon: 'icon dashicons-text',
            title: 'Srizon Lorem Ipsum Generator',
            onclick: function () {
                editor.windowManager.open({
                    title: 'Enter Number of Words (max 1500):',
                    body: [
                        {
                            type: 'textbox',
                            name: 'num',
                            label: 'Total Words:'
                        }
                    ],
                    onsubmit: function (e) {
                        var content = srzGetWords(e.data.num);
                        editor.insertContent(content);
                    }
                });
            }
        });
    });
})();

function srzGetWords(num) {
    var loremtext = "Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ab, animi dolore ea, enim error et harum ipsam molestias pariatur perferendis praesentium provident quidem, quis quisquam sed vel voluptas. Architecto dolor dolorum eaque et eveniet id iure libero maiores porro voluptate. Atque beatae, dolore, doloribus eaque illum impedit libero maxime obcaecati officiis omnis quisquam temporibus voluptatibus? At atque dignissimos eveniet fuga fugit harum illum modi rem velit. Ad consequatur ducimus facere fugit harum numquam, officia optio tempore vitae! Ab accusantium commodi ea incidunt libero repellendus similique suscipit? Accusantium corporis dolore ducimus eaque explicabo impedit incidunt ipsum libero nesciunt nostrum provident, quisquam quod repellat repellendus sed tempora totam unde ut vel velit? Eveniet, quaerat veritatis. Delectus dolore, dolorem in qui quibusdam quis ullam? Esse hic molestiae nesciunt praesentium quis repellat vitae! Autem, debitis dicta distinctio ducimus eaque eligendi et explicabo illum libero magnam molestiae, porro quam quasi quis, tempore. Autem cumque debitis distinctio esse explicabo facere, illo in iusto laboriosam laudantium nulla obcaecati officia officiis optio provident quae quibusdam quos recusandae repellat repudiandae sapiente tempore temporibus ullam unde, voluptates. Aut culpa dolore fugit incidunt maiores molestiae quod voluptate voluptatibus! A asperiores assumenda commodi consectetur dicta dolorum eaque error exercitationem facere, facilis harum impedit ipsa, magnam modi mollitia nemo non nulla odio officiis pariatur perferendis placeat quaerat, quisquam quo reiciendis repellat reprehenderit repudiandae saepe sunt temporibus tenetur ut voluptates voluptatibus? Consequatur cum debitis distinctio expedita, incidunt, iure laudantium molestias nisi obcaecati officia quaerat quas quidem quis quo quod reiciendis sapiente, veritatis voluptatibus. Aperiam consequatur cumque dicta doloribus excepturi magnam nobis optio recusandae? A beatae consequuntur culpa delectus dignissimos distinctio eligendi eum fugiat hic impedit maxime molestiae nam neque nostrum odit quaerat quos ratione recusandae reiciendis repudiandae, saepe, tempora temporibus ullam, unde veniam. Animi asperiores at aut blanditiis, commodi consequuntur cumque debitis ea eius eveniet expedita fugiat impedit ipsam iusto magnam minus necessitatibus nesciunt obcaecati officiis omnis perferendis quas qui repudiandae saepe sequi sunt totam veniam vero voluptas voluptates. Aliquam amet assumenda, at atque cupiditate debitis dolore dolorem eveniet explicabo natus nemo omnis praesentium sint temporibus unde. Accusamus accusantium adipisci aspernatur commodi consectetur deleniti deserunt dolorem ex explicabo fugit in itaque laudantium maiores mollitia perspiciatis possimus praesentium quia, quibusdam quisquam reprehenderit sapiente vel velit voluptas voluptatem voluptates. Accusamus aliquid cumque dolor dolorem facere ipsa, necessitatibus nemo nihil, officia placeat quae quisquam repudiandae voluptas! Doloribus fugiat, hic nobis non officiis quae tenetur. Autem consectetur cumque dignissimos dolorum facere fuga hic iusto nam, nemo nulla perspiciatis porro quaerat saepe, tenetur ut vel voluptatem. Alias aperiam delectus deleniti dolorem ducimus ea eos eum excepturi, explicabo harum, illum labore minus natus nisi non nulla odit officiis optio pariatur quas quidem saepe vel voluptate! Aliquid, cum dicta dolorem harum ipsum magni modi non nulla obcaecati praesentium quam repellendus, reprehenderit rerum similique tenetur! Accusantium asperiores aspernatur at, cumque, cupiditate earum enim fugiat illum ipsam laboriosam laudantium magnam molestias nesciunt pariatur porro sint soluta suscipit, totam ut vitae? Assumenda beatae doloremque itaque laudantium maxime minus nulla officia quam tenetur ullam. Asperiores aut cum, delectus esse eum excepturi illo iusto laborum officiis possimus provident quas quo recusandae sit vel veritatis vitae. Ab asperiores ducimus, eaque iusto perferendis perspiciatis quasi quia sapiente sunt vero. Accusamus architecto assumenda consequuntur eos eum eveniet exercitationem, illo in inventore laboriosam laudantium minima modi repellendus ut voluptatem? Ad cumque doloribus illum in iste numquam vero. Ipsam magnam maxime officiis quae quidem quo suscipit veniam! Aspernatur consequatur deleniti dolorum, hic maxime soluta temporibus vel voluptatibus. Consequuntur dolor esse id, magnam magni obcaecati officia perspiciatis quibusdam sunt veniam. Ad alias assumenda debitis ea eos ex, explicabo fugit incidunt iste, itaque iusto nostrum odit officia pariatur perferendis porro quaerat quas quo quos ratione reiciendis repellendus, repudiandae saepe sapiente sint sunt tempore. Culpa doloremque laboriosam magnam nostrum, nulla, numquam officia optio quasi sint, soluta tempore voluptatum! Accusantium aliquid culpa dolorum esse fuga labore laborum suscipit unde! Adipisci, aperiam assumenda autem distinctio dolorum ipsum non placeat quas quidem reprehenderit repudiandae, rerum tempora. Aliquam corporis dolorum eius explicabo fugit incidunt laboriosam, minus mollitia, nam nihil nostrum odit possimus quae ratione reiciendis rem sit soluta veritatis vero voluptatibus? Consequatur eaque eius esse natus optio pariatur qui quo rerum! Architecto assumenda at atque aut, dicta, dolor dolorem et fugit hic illo itaque, iure nobis quod quos ratione reiciendis repellendus repudiandae tempore vero vitae! Aspernatur molestiae nobis quas quos? Corporis cum eligendi reprehenderit unde! Accusamus animi, architecto, aspernatur assumenda atque dolores error facere iure magnam magni nemo non officiis omnis quam soluta tenetur veniam. Corporis, praesentium, quae. Cupiditate, dignissimos ea enim eos in ipsa iste laborum maxime nam omnis provident quaerat, quidem quod sunt totam ut velit voluptas? Cumque dolore dolorum et maiores praesentium! Aliquam aliquid aspernatur at blanditiis cupiditate deleniti dicta dolor dolorum eius incidunt, labore libero natus odio perspiciatis placeat porro sed velit! Alias aliquid amet architecto assumenda at debitis dicta dolores dolorum eligendi eos ex harum hic id impedit inventore itaque libero nemo nihil odit perspiciatis, quae recusandae, rerum sed sunt tempora, totam voluptas voluptatum? Accusamus aliquam amet asperiores autem blanditiis cupiditate dolor doloribus, eos est eum ex in libero nemo nobis non nostrum omnis possimus, quasi quia quidem saepe soluta ullam veritatis? Aliquid animi assumenda eligendi error fugit laudantium repellat similique! Aut blanditiis commodi dolores doloribus, illum ipsa iste laboriosam libero nobis obcaecati odio perferendis praesentium quae, quisquam quo similique veniam veritatis voluptatum? Aliquid architecto cumque dolorem est ipsa maiores nulla numquam pariatur ratione recusandae, sed temporibus ut voluptas! Adipisci assumenda corporis enim ipsum quae quaerat repudiandae. Blanditiis cum deserunt fuga illum in ipsa itaque iusto minima necessitatibus neque numquam officia omnis, perspiciatis quaerat quasi quisquam recusandae repellat reprehenderit! Distinctio dolorum eligendi error exercitationem, explicabo fuga libero non odio quaerat, quia rerum, tenetur. Animi aperiam delectus dolor facilis hic quos sequi totam unde voluptas! Ab, ad adipisci aliquid, animi assumenda cupiditate earum esse eum fugiat hic impedit in ipsum nemo numquam obcaecati officiis omnis placeat quaerat repellat repellendus sequi sit sunt veritatis vero voluptate. At consequuntur dolore doloribus eos minus qui repellendus tempore, totam ullam? Accusamus aut cupiditate dolor eos, illum, ipsum iste maxime, minima omnis perspiciatis praesentium suscipit voluptatem. Consectetur earum eum harum iure nulla officiis repellendus reprehenderit unde voluptatem voluptates. A accusamus ad consectetur culpa delectus dicta dolores esse exercitationem expedita hic itaque iure iusto maxime minima mollitia necessitatibus nihil nobis omnis possimus quas quasi temporibus veritatis, voluptas! Ab architecto consequatur dignissimos dolores eum, facilis fuga harum hic magnam nemo nostrum officia omnis praesentium repudiandae sit totam ut. Ab assumenda at beatae cupiditate deleniti dignissimos distinctio eos esse exercitationem facilis fugit id in ipsa ipsam itaque laudantium magnam, minus natus nemo neque nesciunt nihil nobis placeat quo recusandae reiciendis repellendus repudiandae rerum sequi sint tempore vel, vero voluptatum? A beatae deserunt eligendi ipsum nesciunt nobis pariatur perspiciatis sed voluptas voluptates? Amet aperiam asperiores aspernatur beatae dolorem eos est facilis hic id, illum ipsam, iusto magni molestiae molestias natus neque nesciunt nihil non omnis optio quasi quibusdam quos tenetur totam voluptate voluptatem voluptatum. Amet architecto corporis culpa dolore dolorem doloremque eaque, eius, harum hic illo ipsum libero minus molestias numquam perferendis placeat possimus provident quia, quidem reprehenderit repudiandae sapiente sequi sit soluta veritatis voluptate voluptatum. Ad aliquam atque autem eius esse eum excepturi facere fugit hic ipsa iste iusto maxime nulla obcaecati pariatur, perferendis praesentium quas repellendus reprehenderit, similique vel vero voluptate! Asperiores atque autem consequuntur debitis distinctio ea fugit hic iure, natus, nobis officia quaerat quam reiciendis repudiandae ut. Alias aliquam aliquid asperiores commodi, consectetur fuga, impedit ipsum officia quae repudiandae sit veniam voluptatum? Deleniti deserunt dicta, dolores ducimus fuga maxime minima molestias reiciendis velit! Eaque harum illo ipsum nihil tenetur? Commodi, libero provident. Atque consequatur deleniti, deserunt ipsa libero provident sunt suscipit! Aliquid asperiores dolorem dolorum esse facere, id ipsa, ipsum labore, laborum nemo nisi quis quos! Alias animi architecto aut consequatur cupiditate, dolores doloribus dolorum, eos error esse id labore maxime nihil placeat praesentium repellendus, sed unde velit! Ab alias aliquid asperiores, deserunt eaque laboriosam neque, nulla odit officia quis quisquam repellat repellendus rerum sapiente sint tempora voluptate? Assumenda at aut cumque deserunt ex expedita facilis impedit ipsam libero non, nostrum odio quidem reprehenderit sint totam. Ad, autem consequatur culpa esse eum facilis incidunt iusto magnam nobis non quisquam rem repudiandae sed, sit suscipit unde vero. Accusantium alias architecto assumenda beatae delectus ea eos est fuga hic incidunt itaque iure iusto laborum libero maiores nam nihil nisi optio quae, quas quia quisquam quos sed tempore totam vel velit. Ab aliquam animi corporis cupiditate debitis deleniti dolor dolore doloremque doloribus eaque, eius eligendi facilis harum ipsum labore mollitia optio quam, quidem saepe sequi totam veniam voluptate. Aperiam asperiores commodi cupiditate dignissimos distinctio eum ipsa iste, itaque nesciunt omnis quam quasi quia quis tempore vitae. Cum ea ipsam laudantium libero magni molestiae, molestias nam neque, nihil officiis pariatur perferendis sint velit vero vitae. Ratione similique, tempore. Accusantium autem culpa cumque deleniti dicta dignissimos distinctio, doloribus dolorum eligendi est explicabo fuga fugiat impedit ipsa, iure iusto libero magnam minus nesciunt non possimus quam quisquam quod ratione reiciendis totam ullam ut vitae voluptates voluptatibus. Architecto explicabo laborum minima nemo nostrum quisquam, recusandae rerum voluptatum. Aliquid beatae deserunt dignissimos dolores ipsum iure nihil recusandae, veniam. Assumenda cum exercitationem fuga, id libero molestiae nulla quidem quis sunt tenetur. Aperiam consequatur corporis deleniti, doloribus eligendi eos est fuga ipsa iusto laboriosam officia possimus quaerat tenetur! Aliquid amet aut consectetur consequatur dolorem fugiat inventore, laudantium nam non omnis optio repellendus, sequi soluta sunt suscipit tenetur vero? Aliquid architecto consequatur distinctio doloribus et facilis fugit harum iusto, labore libero natus nostrum numquam placeat possimus quas, quasi qui quos ratione sapiente similique sit temporibus unde voluptatibus! Aperiam debitis dignissimos dolor eligendi est et fuga fugiat fugit illo, inventore laudantium magni, modi molestiae ratione repellat saepe sed sint sunt voluptas voluptatem! Delectus dolorem harum iure ratione vel? Dolor eum laboriosam qui sapiente sequi. A ab accusamus aperiam et, eveniet incidunt ipsa itaque magnam magni maiores maxime, necessitatibus neque obcaecati optio perferendis possimus quasi quis quo quod sapiente voluptate voluptatem voluptatibus. A accusamus adipisci alias architecto aut blanditiis consequatur culpa dolorem, doloribus ducimus eaque enim est, eum itaque molestiae molestias nemo neque odit, officia placeat porro quia quo rem sunt tempore unde vero voluptatum! Aliquam aspernatur commodi cumque deserunt eligendi error est et eveniet harum impedit modi non praesentium, provident quae quidem reiciendis rem sapiente sequi, similique ut? Alias asperiores assumenda at consectetur debitis deserunt dolor dolorem dolorum eius ex excepturi fuga fugit, inventore itaque magni minima modi molestias nesciunt obcaecati odit provident quasi qui recusandae reiciendis similique vel voluptas voluptatem. Accusamus cupiditate doloremque excepturi facilis fugiat iure iusto laboriosam maxime modi mollitia nesciunt nobis, omnis perspiciatis quibusdam rerum saepe sed, ut. Harum itaque odio veniam? Asperiores debitis earum id iure nisi possimus sapiente totam velit vero. A architecto commodi consequuntur deserunt distinctio eum incidunt laboriosam minima numquam placeat possimus provident quidem sequi sunt, voluptatum? Delectus excepturi, ipsa libero natus officia placeat quasi saepe. Dignissimos dolor eligendi ipsam itaque minima quidem recusandae repellat! Ad atque, deleniti, distinctio eaque eligendi ex labore maxime mollitia nam nemo odio pariatur porro praesentium quis reprehenderit similique sint sunt tenetur vel veniam. Accusantium aut beatae consequuntur eaque ex harum illum, iure minus praesentium quia quisquam repellendus sint suscipit veritatis voluptatem? Iure nostrum quo sapiente ut. At eos illum, nam nobis rerum voluptatum. Adipisci atque blanditiis consequuntur culpa cum dignissimos distinctio ea eos ex id impedit iste magnam numquam officiis, qui quis quisquam quod, quos recusandae saepe sed, sequi tempore temporibus totam ullam veniam voluptas voluptates. Accusamus aperiam assumenda autem deleniti eius eligendi est exercitationem facere facilis fugit hic id libero molestiae necessitatibus numquam perferendis qui quisquam quod quos recusandae repellendus sed sit totam unde vel voluptatem, voluptates! Alias, explicabo, quisquam. Consequatur cum deleniti dolorum eveniet laborum nam nihil, quas quis quo veniam? Aut beatae dolores doloribus iusto laboriosam libero maxime nihil quibusdam sapiente voluptatibus! Aliquid animi commodi consectetur cupiditate doloremque est et eveniet facere incidunt iusto labore nam nostrum, numquam, obcaecati qui reprehenderit rerum vel vitae!";
    var start = Math.floor((Math.random() * 500) + 1);
    var parsedNum = parseInt(num);
    if (isNaN(parsedNum)) parsedNum = 5;
    if (parsedNum < 1) parsedNum = 5;
    if (parsedNum > 1500) parsedNum = 1500;
    var tempStr = loremtext.split(/\s+/).slice(start, start + parsedNum).join(" ");
    return tempStr.charAt(0).toUpperCase() + tempStr.slice(1);
}